import{al as w,r as a,j as e,B as x,o as m,a6 as S,af as I,w as b,I as E,p as P}from"./index-GbOaGgM0.js";import{C as v}from"./config-global-BwHnWRtc.js";import{p as L,E as N}from"./apiClient-i189rV0m.js";import{T as p}from"./TextField-BrPYWE6M.js";import"./Select-BaJTgM_p.js";function C(){const g=w(),[r,h]=a.useState(""),[n,f]=a.useState(""),[o,j]=a.useState(!1),[l,d]=a.useState(!1),[c,i]=a.useState(""),y=async()=>{var s,u;if(!r||!n){i("Email and password are required");return}try{d(!0),i("");const t=await L(N.LOGIN_PANEL,{email:r,password:n});localStorage.setItem("accessToken",t.data.token),localStorage.setItem("user",JSON.stringify(t.data.user)),g.push("/")}catch(t){i(((u=(s=t==null?void 0:t.response)==null?void 0:s.data)==null?void 0:u.message)||"Login failed")}finally{d(!1)}};return e.jsxs(e.Fragment,{children:[e.jsxs(x,{sx:{mb:5,display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx(m,{variant:"h5",children:"Panel Login"}),e.jsx(m,{variant:"body2",sx:{color:"text.secondary"},children:"Login with your registered email and password"})]}),c&&e.jsx(S,{severity:"error",sx:{mb:3},children:c}),e.jsxs(x,{sx:{display:"flex",flexDirection:"column"},children:[e.jsx(p,{fullWidth:!0,label:"Email",value:r,onChange:s=>h(s.target.value),sx:{mb:3}}),e.jsx(p,{fullWidth:!0,label:"Password",type:o?"text":"password",value:n,onChange:s=>f(s.target.value),sx:{mb:3},InputProps:{endAdornment:e.jsx(I,{position:"end",children:e.jsx(b,{onClick:()=>j(!o),children:e.jsx(E,{icon:o?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),e.jsx(P,{fullWidth:!0,size:"large",color:"inherit",variant:"contained",disabled:l,onClick:y,children:l?"Signing in...":"Sign in"})]})]})}function O(){return e.jsxs(e.Fragment,{children:[e.jsx("title",{children:`Sign in - ${v.appName}`}),e.jsx(C,{})]})}export{O as default};
